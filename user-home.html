<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kullanıcı Anasayfa | AKSA YAZILIM</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
  <link rel="stylesheet" href="style.css" />
  <style>
    body { background:#0f172a; color:#fff; min-height:100vh; display:grid; place-items:center; }
    .card { background:#fff; color:#111; border-radius: 16px; box-shadow: 0 16px 48px rgba(0,0,0,0.12); padding: 24px; width:min(92%, 820px); }
    .actions { display:flex; gap:10px; flex-wrap:wrap; }
    .btn { display:inline-flex; align-items:center; gap:8px; border:none; border-radius:12px; padding:10px 16px; cursor:pointer; font-weight:800; }
    .btn-primary { background: linear-gradient(90deg, #ffd600 0%, #ff6f00 100%); color:#111; }
    .btn-secondary { background:#0f172a; color:#fff; border:1px solid #202a44; }
    .muted { color:#555; }
  </style>
</head>
<body>
  <section class="card">
    <div class="eleks-logo">AKSA YAZILIM<span class="dot">.</span></div>
    <h1 style="margin:6px 0 2px 0;">Hoş geldiniz</h1>
    <p id="welcomeLine" class="muted">Kullanıcı bilgileriniz yükleniyor...</p>

    <div class="actions" style="margin-top:12px;">
      <button id="logoutBtn" class="btn btn-secondary"><i class="bi bi-box-arrow-right"></i> Çıkış Yap</button>
      <a href="index.html" class="btn btn-primary" style="text-decoration:none;"><i class="bi bi-house"></i> Ana Sayfa</a>
    </div>

    <hr style="margin:18px 0;"/>
    <p class="muted">Not: Bu sayfa, yönetici olmayan (user/finance/sales) hesaplar için basit bir başlangıç sayfasıdır. Yönetim paneline sadece admin rolündeki kullanıcılar erişebilir.</p>
  </section>

  <script>
    // Read session and greet
    (function() {
      try {
        const raw = localStorage.getItem('sessionUser');
        const user = raw ? JSON.parse(raw) : null;
        const line = document.getElementById('welcomeLine');
        if (!user) {
          line.textContent = 'Oturum bulunamadı, giriş sayfasına yönlendiriliyorsunuz...';
          setTimeout(() => window.location.href = 'login.html', 800);
          return;
        }
        line.textContent = `${user.full_name ? user.full_name + ' • ' : ''}${user.email} — Rol: ${user.role}`;
      } catch (e) {
        console.error('session parse error', e);
      }
    })();

    // Logout
    document.getElementById('logoutBtn').addEventListener('click', function() {
      try { localStorage.removeItem('sessionUser'); } catch {}
      window.location.href = 'login.html';
    });
  </script>
</body>
</html>
